{
  "#type": "merge",
  "values": [
    "$.request",
    {
      "aggregations": {
        "#type": "as_list",
        "values": {
          "#type": "fallback",
          "strategies": [
            "$.request.aggregations",
            {
              "#type": "require",
              "require": "$.request[?(!(@.ids))]",
              "value": [
                "datatype",
                "property",
                "place",
                "collection",
                "date",
                "title",
                "group"
              ]
            }
          ]
        }
      }
    }
  ]
}